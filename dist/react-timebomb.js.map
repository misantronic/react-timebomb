{"version":3,"sources":["src/index.tsx","src/menu.tsx","src/utils.ts","src/button.tsx","src/menu-title.tsx","src/value.tsx","src/typings.ts"],"names":[],"mappings":"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","file":"","sourcesContent":["import * as React from 'react';\nimport styled from 'styled-components';\nimport { Select } from 'react-slct';\nimport { Menu } from './menu';\nimport { MenuTitle } from './menu-title';\nimport { Value } from './value';\nimport {\n    isUndefined,\n    startOfDay,\n    isDisabled,\n    dateFormat,\n    validateDate,\n    setDate,\n    clearSelection,\n    endOfDay\n} from './utils';\nimport {\n    ReactTimebombProps,\n    ReactTimebombState,\n    ReactTimebombError\n} from './typings';\n\nexport { ReactTimebombProps, ReactTimebombState, ReactTimebombError };\n\nconst DEFAULT_FORMAT = 'YYYY-MM-DD';\n\nconst Container = styled.div`\n    width: 100%;\n    position: relative;\n    position: relative;\n`;\n\nconst MenuWrapper = styled.div`\n    display: flex;\n    width: 100%;\n    flex-direction: column;\n    border: 1px solid #ccc;\n    box-sizing: border-box;\n    padding: 0;\n    background: white;\n    z-index: 1;\n    max-height: ${(props: { menuHeight: number }) => props.menuHeight}px;\n    font-family: Arial, Helvetica, sans-serif;\n    font-size: 13px;\n`;\n\nconst BlindInput = styled.input`\n    position: absolute;\n    opacity: 0;\n`;\n\nexport class ReactTimebomb extends React.Component<\n    ReactTimebombProps,\n    ReactTimebombState\n> {\n    public static getDerivedStateFromProps(\n        props: ReactTimebombProps\n    ): Partial<ReactTimebombState> | null {\n        return {\n            showTime: Boolean(\n                props.format && /H|h|m|k|a|S|s/.test(props.format)\n            )\n        };\n    }\n\n    constructor(props) {\n        super(props);\n\n        const { value, format = DEFAULT_FORMAT } = this.props;\n\n        this.state = {\n            allowValidation: false,\n            mode: 'month',\n            valueText: value ? dateFormat(value, format) : undefined,\n            date: value || startOfDay(new Date())\n        };\n\n        this.onChangeValueText = this.onChangeValueText.bind(this);\n        this.onValueSubmit = this.onValueSubmit.bind(this);\n        this.onSelectDay = this.onSelectDay.bind(this);\n        this.onModeYear = this.onModeYear.bind(this);\n        this.onModeMonths = this.onModeMonths.bind(this);\n        this.onSelectMonth = this.onSelectMonth.bind(this);\n        this.onSelectYear = this.onSelectYear.bind(this);\n        this.onToday = this.onToday.bind(this);\n        this.onNextMonth = this.onNextMonth.bind(this);\n        this.onPrevMonth = this.onPrevMonth.bind(this);\n        this.onSelectTime = this.onSelectTime.bind(this);\n    }\n\n    public componentDidUpdate(\n        prevProps: ReactTimebombProps,\n        prevState: ReactTimebombState\n    ): void {\n        const { valueText } = this.state;\n        const { value, format = DEFAULT_FORMAT } = this.props;\n\n        if (prevProps.format !== format) {\n            this.setState({\n                valueText: value ? dateFormat(value, format) : undefined\n            });\n        }\n\n        if (prevState.valueText !== valueText) {\n            this.valueTextDidUpdate();\n        }\n    }\n\n    private valueTextDidUpdate(): void {\n        const { valueText, allowValidation } = this.state;\n        const { format = DEFAULT_FORMAT } = this.props;\n        const validDate = validateDate(valueText, format);\n\n        if (validDate) {\n            this.setState({ allowValidation: true }, () => {\n                const disabled = isDisabled(validDate, this.props);\n\n                if (disabled) {\n                    this.emitError('outOfRange', valueText!);\n                } else {\n                    this.setState({ date: validDate }, () =>\n                        this.emitChange(validDate)\n                    );\n                }\n            });\n        } else if (valueText) {\n            this.emitError('invalidDate', valueText);\n        } else if (!isUndefined(valueText) && allowValidation) {\n            this.emitChange(undefined);\n        }\n    }\n\n    public render(): React.ReactNode {\n        const {\n            className,\n            value,\n            placeholder,\n            menuWidth,\n            showConfirm,\n            showCalendarWeek,\n            selectWeek,\n            format = DEFAULT_FORMAT\n        } = this.props;\n        const { showTime, valueText, allowValidation, mode } = this.state;\n        const menuHeight = 300;\n        const minDate = this.props.minDate\n            ? startOfDay(this.props.minDate)\n            : undefined;\n        const maxDate = this.props.maxDate\n            ? endOfDay(this.props.maxDate)\n            : undefined;\n\n        return (\n            <Select<Date>\n                value={value}\n                placeholder={placeholder}\n                className={className}\n            >\n                {({ placeholder, open, onToggle, onRef, MenuContainer }) => (\n                    <Container ref={onRef as any} className=\"react-timebomb\">\n                        {open ? (\n                            <MenuContainer\n                                menuWidth={menuWidth}\n                                menuHeight={menuHeight}\n                            >\n                                <MenuWrapper menuHeight={menuHeight}>\n                                    <MenuTitle\n                                        mode={mode}\n                                        date={this.state.date}\n                                        minDate={minDate}\n                                        maxDate={maxDate}\n                                        onMonths={this.onModeMonths}\n                                        onYear={this.onModeYear}\n                                        onNextMonth={this.onNextMonth}\n                                        onPrevMonth={this.onPrevMonth}\n                                        onToday={this.onToday}\n                                    />\n                                    <Menu\n                                        showTime={showTime}\n                                        showConfirm={showConfirm}\n                                        showCalendarWeek={showCalendarWeek}\n                                        selectWeek={selectWeek}\n                                        date={this.state.date}\n                                        value={value}\n                                        valueText={valueText}\n                                        format={format}\n                                        mode={mode}\n                                        minDate={minDate}\n                                        maxDate={maxDate}\n                                        onSelectDay={this.onSelectDay}\n                                        onSelectMonth={this.onSelectMonth}\n                                        onSelectYear={this.onSelectYear}\n                                        onSelectTime={this.onSelectTime}\n                                        onToggle={onToggle}\n                                        onSubmit={this.onValueSubmit}\n                                    />\n                                </MenuWrapper>\n                            </MenuContainer>\n                        ) : (\n                            <>\n                                {this.onClose()}\n                                <BlindInput type=\"text\" onFocus={onToggle} />\n                            </>\n                        )}\n                        <Value\n                            placeholder={open ? undefined : placeholder}\n                            format={format}\n                            value={value}\n                            valueText={valueText}\n                            minDate={minDate}\n                            maxDate={maxDate}\n                            allowValidation={allowValidation}\n                            open={open}\n                            onChangeValueText={this.onChangeValueText}\n                            onToggle={onToggle}\n                            onSubmit={this.onValueSubmit}\n                        />\n                    </Container>\n                )}\n            </Select>\n        );\n    }\n\n    private onClose(): null {\n        clearSelection();\n\n        setTimeout(() => {\n            const { format = DEFAULT_FORMAT } = this.props;\n            const validDate = validateDate(this.state.valueText, format);\n            const isValid = validDate\n                ? !isDisabled(validDate, this.props)\n                : validDate;\n\n            if (!isValid && this.props.value) {\n                const formattedDate = dateFormat(this.props.value, format);\n\n                if (this.state.valueText !== formattedDate) {\n                    this.setState({ valueText: formattedDate });\n                }\n            }\n        }, 0);\n\n        return null;\n    }\n\n    private emitError(error: ReactTimebombError, value: string): void {\n        if (this.props.onError && this.state.allowValidation) {\n            this.props.onError(error, value);\n        }\n    }\n\n    private emitChange(date?: Date): void {\n        const { value } = this.props;\n\n        if (value && date && value.getTime() === date.getTime()) {\n            return;\n        }\n\n        this.props.onChange(date);\n\n        this.setState({ allowValidation: Boolean(date) });\n    }\n\n    private onChangeValueText(valueText: string): void {\n        this.setState({ valueText });\n    }\n\n    private onValueSubmit(onToggle: () => void): void {\n        onToggle();\n        clearSelection();\n    }\n\n    private onSelectDay(day: Date): void {\n        const { value, format = DEFAULT_FORMAT } = this.props;\n        let date = new Date(day);\n\n        if (value) {\n            date = setDate(day, value.getHours(), value.getMinutes());\n        }\n\n        const valueText = dateFormat(date, format);\n\n        this.setState({ date, valueText }, () => this.emitChange(date));\n    }\n\n    private onModeYear() {\n        this.setState({ mode: 'year' });\n    }\n\n    private onModeMonths() {\n        this.setState({ mode: 'months' });\n    }\n\n    private onSelectMonth(date: Date) {\n        this.setState({ date, mode: 'month' });\n    }\n\n    private onSelectYear(date: Date) {\n        this.setState({ date, mode: 'months' });\n    }\n\n    private onToday(): void {\n        const now = startOfDay(new Date());\n\n        this.setState({ date: now });\n    }\n\n    private onNextMonth(): void {\n        const date = new Date(this.state.date);\n\n        date.setMonth(date.getMonth() + 1);\n\n        this.setState({ date });\n    }\n\n    private onPrevMonth(): void {\n        const date = new Date(this.state.date);\n\n        date.setMonth(date.getMonth() - 1);\n\n        this.setState({ date });\n    }\n\n    private onSelectTime(time: string): void {\n        const { format = DEFAULT_FORMAT } = this.props;\n        const value = this.props.value || new Date('1970-01-01');\n\n        if (!time) {\n            this.emitChange(startOfDay(value));\n        } else {\n            const splitted = time.split(':');\n            const newDate = setDate(\n                value,\n                parseInt(splitted[0], 10),\n                parseInt(splitted[1], 10)\n            );\n\n            const valueText = dateFormat(newDate, format);\n\n            this.setState({ valueText }, () => this.emitChange(newDate));\n        }\n    }\n}\n","import * as React from 'react';\nimport styled, { css } from 'styled-components';\nimport { ReactTimebombState, ReactTimebombProps } from '.';\nimport {\n    isDisabled,\n    validateDate,\n    isToday,\n    getMonthNames,\n    getWeekOfYear,\n    startOfWeek,\n    addDays,\n    startOfMonth,\n    endOfWeek,\n    endOfYear\n} from './utils';\nimport { Button } from './button';\n\ninterface MenuProps {\n    showTime: ReactTimebombState['showTime'];\n    showConfirm: ReactTimebombProps['showConfirm'];\n    showCalendarWeek: ReactTimebombProps['showCalendarWeek'];\n    selectWeek: ReactTimebombProps['selectWeek'];\n    value: ReactTimebombProps['value'];\n    valueText: ReactTimebombState['valueText'];\n    minDate: ReactTimebombProps['minDate'];\n    maxDate: ReactTimebombProps['maxDate'];\n    date: ReactTimebombState['date'];\n    mode: ReactTimebombState['mode'];\n    format: string;\n    onToggle(): void;\n    onSelectDay(date: Date): void;\n    onSelectYear(date: Date): void;\n    onSelectMonth(date: Date): void;\n    onSelectTime(time: string): void;\n    onSubmit(onToggle: () => void): void;\n}\n\ninterface DayProps {\n    selected?: boolean;\n    disabled?: boolean;\n    current: boolean;\n    today: boolean;\n}\n\ninterface TableProps {\n    selectWeek?: boolean;\n}\n\nconst Flex = styled.div`\n    display: flex;\n    align-items: center;\n`;\n\nconst MonthsContainer = styled.div`\n    display: flex;\n    flex: 1;\n    flex-direction: row;\n    flex-wrap: wrap;\n    justify-content: space-around;\n    align-items: center;\n    padding: 10px;\n\n    button {\n        width: 33%;\n        font-size: 16px;\n        font-weight: normal;\n        font-style: normal;\n        font-stretch: normal;\n        line-height: 3.13;\n        border: none;\n        margin: 0;\n        padding: 0;\n    }\n`;\n\nconst MonthContainer = styled.div`\n    padding: 0 0 10px;\n`;\n\nconst YearContainer = styled.div`\n    display: flex;\n    flex-direction: column;\n    overflow-y: auto;\n    border-left: solid 1px #e6e6e6;\n    padding: 10px;\n    flex: 0 0 90px;\n\n    button {\n        width: 100%;\n        font-size: 16px;\n        font-weight: normal;\n        font-style: normal;\n        font-stretch: normal;\n        border: none;\n        padding: 6px 0;\n        margin: 0 0 4px;\n        min-height: 46px;\n    }\n`;\n\nconst Confirm = styled.div`\n    width: 100%;\n    text-align: center;\n    padding: 10px 0 0;\n\n    button {\n        padding: 3px 28px;\n    }\n`;\n\nconst Table = styled.table`\n    width: 100%;\n    font-size: 13px;\n    user-select: none;\n    padding: 0 10px;\n    box-sizing: border-box;\n\n    td.calendar-week {\n        color: #aaa;\n    }\n\n    th.calendar-week {\n        text-align: left;\n        color: #aaa;\n    }\n\n    tr {\n        ${(props: TableProps) =>\n            props.selectWeek\n                ? css`\n                      &:hover {\n                          cursor: pointer;\n\n                          td.day {\n                              background-color: #eee;\n                          }\n                      }\n                  `\n                : ''};\n\n        th {\n            padding: 3px 2px;\n        }\n    }\n`;\n\nconst Day = styled(Flex)`\n    padding: 8px 2px;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    color: ${(props: DayProps) => (props.current ? '#000' : '#aaa')};\n    background-color: ${(props: DayProps) =>\n        props.selected\n            ? '#ddd'\n            : props.today\n            ? 'rgba(172, 206, 247, 0.4)'\n            : 'transparent'};\n    font-weight: ${(props: DayProps) => (props.selected ? 'bold' : 'normal')};\n    pointer-events: ${(props: DayProps) => (props.disabled ? 'none' : 'auto')};\n    user-select: none;\n    opacity: ${(props: DayProps) => (props.disabled ? 0.3 : 1)};\n\n    &:hover {\n        background-color: ${(props: DayProps) =>\n            props.selected ? '#ddd' : '#eee'};\n    }\n`;\n\nexport class Menu extends React.PureComponent<MenuProps> {\n    private get now(): Date {\n        return new Date();\n    }\n\n    private get monthMatrix(): (Date[])[] {\n        const { date } = this.props;\n        const dateMonth = date.getMonth();\n        const dateYear = date.getFullYear();\n        const weeks: (Date)[][] = [];\n\n        let base = startOfMonth(date);\n        let week = 0;\n\n        while (\n            startOfWeek(base).getMonth() === dateMonth ||\n            endOfWeek(base).getMonth() === dateMonth\n        ) {\n            const weekStart = startOfWeek(\n                new Date(dateYear, dateMonth, week++ * 7 + 1)\n            );\n\n            weeks.push([\n                weekStart,\n                addDays(weekStart, 1),\n                addDays(weekStart, 2),\n                addDays(weekStart, 3),\n                addDays(weekStart, 4),\n                addDays(weekStart, 5),\n                addDays(weekStart, 6)\n            ]);\n\n            base = addDays(base, 7);\n        }\n\n        return weeks;\n    }\n\n    constructor(props: MenuProps) {\n        super(props);\n\n        this.onSelectDay = this.onSelectDay.bind(this);\n        this.onSelectMonth = this.onSelectMonth.bind(this);\n        this.onSelectYear = this.onSelectYear.bind(this);\n    }\n\n    public render(): React.ReactNode {\n        const { mode, showConfirm } = this.props;\n\n        switch (mode) {\n            case 'year':\n            case 'months':\n                return (\n                    <div style={{ display: 'flex' }}>\n                        {this.renderMenuMonths()}\n                        {this.renderMenuYear()}\n                    </div>\n                );\n            case 'month':\n                return (\n                    <MonthContainer>\n                        {this.renderMonth()}\n                        {showConfirm && this.renderConfirm()}\n                    </MonthContainer>\n                );\n        }\n    }\n\n    private renderMenuYear(): React.ReactNode {\n        const { date: currentDate } = this.props;\n        const currentYear = this.now.getFullYear();\n        const year = currentDate.getFullYear();\n\n        return (\n            <YearContainer className=\"years\">\n                {Array(100)\n                    .fill(undefined)\n                    .map((_, i) => {\n                        const newDate = new Date(currentDate);\n\n                        newDate.setFullYear(currentYear - i);\n\n                        const disabled = isDisabled(\n                            endOfYear(newDate),\n                            this.props\n                        );\n                        const selected = year === newDate.getFullYear();\n\n                        return (\n                            <Button\n                                key={i}\n                                tabIndex={-1}\n                                className={selected ? 'selected' : undefined}\n                                selected={selected}\n                                disabled={disabled}\n                                data-date={newDate.toString()}\n                                onClick={this.onSelectYear}\n                            >\n                                {currentYear - i}\n                            </Button>\n                        );\n                    })}\n            </YearContainer>\n        );\n    }\n\n    private renderMenuMonths(): React.ReactNode {\n        const { date, value } = this.props;\n        const months = getMonthNames(true);\n        const month = value && value.getMonth();\n        const year = value && value.getFullYear();\n\n        return (\n            <MonthsContainer className=\"months\">\n                {months.map((str, i) => {\n                    const newDate = new Date(date);\n\n                    newDate.setMonth(i);\n\n                    // TODO: funktioniet nicht ganz rund\n                    const disabled = isDisabled(newDate, this.props);\n                    const selected =\n                        month === newDate.getMonth() &&\n                        year === newDate.getFullYear();\n\n                    return (\n                        <Button\n                            key={str}\n                            tabIndex={-1}\n                            className={selected ? 'selected' : undefined}\n                            selected={selected}\n                            disabled={disabled}\n                            data-date={newDate.toString()}\n                            onClick={this.onSelectMonth}\n                        >\n                            {str}\n                        </Button>\n                    );\n                })}\n            </MonthsContainer>\n        );\n    }\n\n    private renderMonth(): React.ReactNode {\n        const { monthMatrix } = this;\n        const { showCalendarWeek, selectWeek } = this.props;\n\n        return (\n            <Table\n                className=\"month\"\n                selectWeek={selectWeek}\n                cellSpacing={0}\n                cellPadding={0}\n            >\n                <thead>\n                    <tr>\n                        {showCalendarWeek && <th className=\"calendar-week\" />}\n                        <th>Mo</th>\n                        <th>Di</th>\n                        <th>Mi</th>\n                        <th>Do</th>\n                        <th>Fr</th>\n                        <th>Sa</th>\n                        <th>So</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {monthMatrix.map((dates, i) => (\n                        <tr key={i}>\n                            {showCalendarWeek && (\n                                <td className=\"calendar-week\">\n                                    {getWeekOfYear(dates[0])}\n                                </td>\n                            )}\n                            {dates.map((date, j) => (\n                                <td className=\"day\" key={j}>\n                                    {this.renderDay(date)}\n                                </td>\n                            ))}\n                        </tr>\n                    ))}\n                </tbody>\n            </Table>\n        );\n    }\n\n    private renderDay(day: Date): React.ReactNode {\n        const num = day.getDate();\n        const { value, date, selectWeek } = this.props;\n        let selected =\n            value &&\n            day.getDate() === value.getDate() &&\n            day.getMonth() === value.getMonth();\n        const current = day.getMonth() === date.getMonth();\n        const disabled = isDisabled(day, this.props);\n        const today = isToday(day);\n\n        if (selectWeek && value) {\n            selected = getWeekOfYear(value) === getWeekOfYear(day);\n        }\n\n        return (\n            <Day\n                data-date={day.toString()}\n                className={selected ? 'value selected' : 'value'}\n                selected={selected}\n                current={current}\n                disabled={disabled}\n                today={today}\n                onClick={this.onSelectDay}\n            >\n                {num}\n            </Day>\n        );\n    }\n\n    private renderConfirm(): React.ReactNode {\n        const { valueText, format } = this.props;\n        const validDate = validateDate(valueText, format);\n\n        return (\n            <Confirm>\n                <Button\n                    tabIndex={-1}\n                    disabled={validDate === null}\n                    onClick={() => this.props.onSubmit(this.props.onToggle)}\n                >\n                    Ok\n                </Button>\n            </Confirm>\n        );\n    }\n\n    private onSelectDay(e: React.SyntheticEvent<HTMLDivElement>): void {\n        const date = new Date(e.currentTarget.getAttribute('data-date')!);\n\n        this.props.onSelectDay(date);\n    }\n\n    private onSelectMonth(e: React.MouseEvent<HTMLButtonElement>) {\n        const date = new Date(e.currentTarget.getAttribute(\n            'data-date'\n        ) as string);\n\n        setTimeout(() => this.props.onSelectMonth(date), 0);\n    }\n\n    private onSelectYear(e: React.MouseEvent<HTMLButtonElement>) {\n        const date = new Date(e.currentTarget.getAttribute(\n            'data-date'\n        ) as string);\n\n        setTimeout(() => this.props.onSelectYear(date), 0);\n    }\n}\n","// @ts-ignore\nimport momentDefaultImport from 'moment';\nimport * as momentImport from 'moment';\n\nconst moment: typeof momentImport = momentDefaultImport || momentImport;\nconst formatSplit = /[.|:|-|\\\\|_|\\s]/;\n\ntype FormatType = 'day' | 'month' | 'year' | 'hour' | 'minute' | 'second';\n\nexport function dateFormat(date: Date, format: string): string {\n    return moment(date).format(format);\n}\n\nexport function validateDate(\n    date: string | undefined,\n    format: string\n): Date | null {\n    const instance = moment(date, format, true);\n\n    return instance.isValid() ? instance.toDate() : null;\n}\n\nexport function getFormatType(format: string): FormatType | undefined {\n    if (/d/i.test(format)) {\n        return 'day';\n    }\n\n    if (/M/.test(format)) {\n        return 'month';\n    }\n\n    if (/y/i.test(format)) {\n        return 'year';\n    }\n\n    if (/h/i.test(format)) {\n        return 'hour';\n    }\n\n    if (/m/.test(format)) {\n        return 'minute';\n    }\n\n    if (/s/.test(format)) {\n        return 'second';\n    }\n\n    return undefined;\n}\n\n/** @return returns a string with transformed value, true for valid input or false for invalid input */\nexport function validateFormatGroup(\n    input: string | number,\n    format: string\n): boolean | string {\n    if (isFinite(input as any)) {\n        const int = typeof input === 'string' ? parseInt(input, 10) : input;\n        const char = String(input);\n        const strLen = char.length;\n        const type = getFormatType(format);\n\n        switch (type) {\n            case 'day':\n                if (strLen === 1) {\n                    if (int >= 0 && int <= 3) {\n                        return true;\n                    } else {\n                        return `0${input}`;\n                    }\n                }\n\n                if (strLen === 2 && int >= 1 && int <= 31) {\n                    return true;\n                }\n                break;\n            case 'month':\n                if (strLen === 1) {\n                    if (int === 0 || int === 1) {\n                        return true;\n                    } else {\n                        return `0${input}`;\n                    }\n                }\n\n                if (strLen === 2 && int >= 0 && int <= 12) {\n                    return true;\n                }\n                break;\n            case 'year':\n                if (strLen === 1 && (int === 1 || int === 2)) {\n                    return true;\n                }\n\n                if (\n                    strLen >= 2 &&\n                    (char.startsWith('19') || char.startsWith('20'))\n                ) {\n                    return true;\n                }\n                break;\n            case 'hour':\n                if (strLen === 1) {\n                    if (int >= 0 && int <= 2) {\n                        return true;\n                    } else {\n                        return `0${input}`;\n                    }\n                }\n\n                if (strLen >= 2 && int >= 0 && int <= 24) {\n                    return true;\n                }\n                break;\n            case 'minute':\n            case 'second':\n                if (strLen === 1) {\n                    if (int >= 0 && int <= 5) {\n                        return true;\n                    } else {\n                        return `0${input}`;\n                    }\n                }\n\n                if (strLen >= 2 && int >= 0 && int <= 59) {\n                    return true;\n                }\n                break;\n        }\n    }\n\n    return false;\n}\n\nexport function stringFromCharCode(keyCode: number): string {\n    const charCode = keyCode - 48 * Math.floor(keyCode / 48);\n\n    return String.fromCharCode(96 <= keyCode ? charCode : keyCode);\n}\n\nexport function formatNumber(number: Number): string {\n    if (number <= 1) {\n        return '01';\n    }\n\n    if (number <= 9) {\n        return `0${number}`;\n    }\n\n    return String(number);\n}\n\nexport function splitDate(date: Date, format: string): string[] {\n    return dateFormat(date, format).split(formatSplit);\n}\n\nexport function joinDates(\n    parts: (string | HTMLElement)[],\n    format: string\n): string {\n    const strParts = parts\n        .map(part => (part instanceof HTMLElement ? part.innerText : part))\n        .filter(val => val);\n    const splittedFormat = format.split(formatSplit);\n\n    if (strParts.length !== splittedFormat.length) {\n        return '';\n    }\n\n    const date = strParts.join(' ');\n    const spaceFormat = splittedFormat.join(' ');\n    const momentDate = moment(date, spaceFormat);\n    const parsingFlags = momentDate.parsingFlags();\n\n    switch (parsingFlags.overflow) {\n        case 2:\n            return moment(\n                // @ts-ignore\n                new Date(...parsingFlags.parsedDateParts)\n            ).format(format);\n    }\n\n    return momentDate.format(format);\n}\n\nexport function clearSelection(): void {\n    const sel = getSelection();\n\n    if (sel.empty) {\n        // Chrome\n        sel.empty();\n    } else if (sel.removeAllRanges) {\n        // Firefox\n        sel.removeAllRanges();\n    }\n}\n\nexport function getWeekOfYear(date: Date): number {\n    return moment(date).isoWeek();\n}\n\nexport function startOfWeek(date: Date): Date {\n    return moment(date)\n        .startOf('isoWeek')\n        .toDate();\n}\n\nexport function endOfWeek(date: Date): Date {\n    return moment(date)\n        .endOf('isoWeek')\n        .toDate();\n}\n\nexport function startOfDay(date: Date): Date {\n    const newDate = new Date(date);\n\n    newDate.setHours(0, 0, 0, 0);\n\n    return newDate;\n}\n\nexport function endOfDay(date: Date): Date {\n    const newDate = new Date(date);\n\n    newDate.setHours(23, 59, 59, 999);\n\n    return newDate;\n}\n\nexport function endOfYear(date: Date): Date {\n    return moment(date)\n        .endOf('year')\n        .toDate();\n}\n\nexport function addDays(date: Date, num: number): Date {\n    return moment(date)\n        .add(num, 'days')\n        .toDate();\n}\n\nexport function addMonths(date: Date, num: number): Date {\n    return moment(date)\n        .add(num, 'months')\n        .toDate();\n}\n\nexport function addYears(date: Date, num: number): Date {\n    return moment(date)\n        .add(num, 'years')\n        .toDate();\n}\n\nexport function addHours(date: Date, num: number): Date {\n    return moment(date)\n        .add(num, 'hours')\n        .toDate();\n}\n\nexport function addMinutes(date: Date, num: number): Date {\n    return moment(date)\n        .add(num, 'minutes')\n        .toDate();\n}\n\nexport function addSeconds(date: Date, num: number): Date {\n    return moment(date)\n        .add(num, 'seconds')\n        .toDate();\n}\n\nexport function subtractSeconds(date: Date, num: number): Date {\n    return moment(date)\n        .subtract(num, 'seconds')\n        .toDate();\n}\n\nexport function subtractMinutes(date: Date, num: number): Date {\n    return moment(date)\n        .subtract(num, 'minutes')\n        .toDate();\n}\n\nexport function subtractHours(date: Date, num: number): Date {\n    return moment(date)\n        .subtract(num, 'hours')\n        .toDate();\n}\n\nexport function subtractDays(date: Date, num: number): Date {\n    return moment(date)\n        .subtract(num, 'days')\n        .toDate();\n}\n\nexport function subtractMonths(date: Date, num: number): Date {\n    return moment(date)\n        .subtract(num, 'months')\n        .toDate();\n}\n\nexport function subtractYears(date: Date, num: number): Date {\n    return moment(date)\n        .subtract(num, 'years')\n        .toDate();\n}\n\nexport function manipulateDate(\n    date: Date,\n    formatType: FormatType,\n    direction: 'add' | 'subtract'\n): Date {\n    switch (formatType) {\n        case 'day':\n            if (direction === 'add') return addDays(date, 1);\n            if (direction === 'subtract') return subtractDays(date, 1);\n            break;\n        case 'month':\n            if (direction === 'add') return addMonths(date, 1);\n            if (direction === 'subtract') return subtractMonths(date, 1);\n            break;\n        case 'year':\n            if (direction === 'add') return addYears(date, 1);\n            if (direction === 'subtract') return subtractYears(date, 1);\n            break;\n        case 'hour':\n            if (direction === 'add') return addHours(date, 1);\n            if (direction === 'subtract') return subtractHours(date, 1);\n            break;\n        case 'minute':\n            if (direction === 'add') return addMinutes(date, 1);\n            if (direction === 'subtract') return subtractMinutes(date, 1);\n            break;\n        case 'second':\n            if (direction === 'add') return addSeconds(date, 1);\n            if (direction === 'subtract') return subtractSeconds(date, 1);\n            break;\n    }\n\n    return new Date();\n}\n\nexport function startOfMonth(date: Date): Date {\n    const newDate = new Date(date);\n\n    newDate.setDate(1);\n    newDate.setHours(0, 0, 0, 0);\n\n    return newDate;\n}\n\nexport function endOfMonth(date: Date): Date {\n    return new Date(date.getFullYear(), date.getMonth() + 1, 0);\n}\n\nexport function isUndefined(val): val is undefined {\n    return val === null || val === undefined;\n}\n\nexport function setDate(date: Date, hour: number, min?: number): Date {\n    const newDate = new Date(date);\n\n    newDate.setHours(hour, min);\n\n    return newDate;\n}\n\nexport function isToday(date: Date): boolean {\n    return moment(date).isSame(new Date(), 'day');\n}\n\nexport function getMonthNames(short?: boolean): string[] {\n    if (short) {\n        return moment.monthsShort();\n    }\n\n    return moment.months();\n}\n\nexport function isDisabled(\n    date: Date,\n    { minDate, maxDate }: { minDate?: Date; maxDate?: Date }\n): boolean | undefined {\n    return (\n        (minDate && date < startOfDay(minDate)) ||\n        (maxDate && date >= endOfDay(maxDate))\n    );\n}\n\nexport function getAttribute(input: Element, attr: string): string {\n    return input.getAttribute(attr)!;\n}\n\nexport const keys = {\n    ARROW_UP: 38,\n    ARROW_RIGHT: 39,\n    ARROW_DOWN: 40,\n    ARROW_LEFT: 37,\n    ENTER: 13,\n    TAB: 9,\n    ESC: 27,\n    BACKSPACE: 8,\n    DELETE: 46,\n    SPACE: 32,\n    SHIFT: 16,\n    A: 65\n};\n","// @ts-ignore\nimport * as React from 'react';\nimport styled from 'styled-components';\n\nexport const Button = styled.button`\n    margin-right: 5px;\n    border: 1px solid #ccc;\n    border-radius: 3px;\n    padding: 3px 6px;\n    min-height: 21px;\n    box-sizing: border-box;\n    background: ${(props: { selected?: boolean }) =>\n        props.selected ? '#ccc' : '#fff'};\n\n    &:focus {\n        outline: none;\n    }\n\n    &:disabled {\n        cursor: not-allowed;\n    }\n\n    &:not(:disabled) {\n        cursor: pointer;\n    }\n\n    &:not(:disabled):hover {\n        background-color: ${(props: { selected?: boolean }) =>\n            props.selected ? '#ccc' : '#efefef'};\n    }\n\n    &:last-child {\n        margin-right: 0;\n    }\n`;\n","import * as React from 'react';\nimport styled from 'styled-components';\nimport { ReactTimebombProps, ReactTimebombState } from './typings';\nimport { Button } from './button';\nimport {\n    subtractDays,\n    startOfMonth,\n    endOfMonth,\n    addDays,\n    getMonthNames\n} from './utils';\n\ninterface MenuTitleProps {\n    date: Date;\n    minDate: ReactTimebombProps['minDate'];\n    maxDate: ReactTimebombProps['maxDate'];\n    mode: ReactTimebombState['mode'];\n    onPrevMonth(): void;\n    onNextMonth(): void;\n    onToday(): void;\n    onMonths(): void;\n    onYear(): void;\n}\n\nconst Container = styled.div`\n    display: ${(props: { show: boolean }) => (props.show ? 'flex' : 'none')};\n    align-items: center;\n    width: 100%;\n    padding: 10px 10px 15px;\n    justify-content: space-between;\n    min-height: 21px;\n    box-sizing: border-box;\n`;\n\nexport class MenuTitle extends React.PureComponent<MenuTitleProps> {\n    private get prevDisabled(): boolean {\n        const { minDate, date } = this.props;\n\n        if (minDate) {\n            return subtractDays(startOfMonth(date), 1) < minDate;\n        }\n\n        return false;\n    }\n\n    private get nextDisabled(): boolean {\n        const { maxDate, date } = this.props;\n\n        if (maxDate) {\n            return addDays(endOfMonth(date), 1) > maxDate;\n        }\n\n        return false;\n    }\n\n    public render(): React.ReactNode {\n        const {\n            date,\n            mode,\n            onNextMonth,\n            onPrevMonth,\n            onMonths,\n            onYear\n        } = this.props;\n        const months = getMonthNames(true);\n        const show = mode === 'month';\n\n        return (\n            <Container show={show}>\n                <Button\n                    tabIndex={-1}\n                    disabled={this.prevDisabled}\n                    onClick={onPrevMonth}\n                >\n                    ◀\n                </Button>\n                <div>\n                    <Button tabIndex={-1} onClick={onMonths}>\n                        <b>{months[date.getMonth()]}</b>\n                    </Button>\n                    <Button tabIndex={-1} onClick={onYear}>\n                        {date.getFullYear()}\n                    </Button>\n                </div>\n                <Button\n                    tabIndex={-1}\n                    disabled={this.nextDisabled}\n                    onClick={onNextMonth}\n                >\n                    ▶\n                </Button>\n            </Container>\n        );\n    }\n}\n","import * as React from 'react';\nimport styled from 'styled-components';\nimport {\n    keys,\n    formatNumber,\n    splitDate,\n    joinDates,\n    stringFromCharCode,\n    validateFormatGroup,\n    getAttribute,\n    getFormatType,\n    manipulateDate,\n    isDisabled\n} from './utils';\nimport { ReactTimebombProps } from './typings';\n\ninterface ValueProps {\n    open?: boolean;\n    value?: Date;\n    valueText?: string;\n    format: string;\n    placeholder: ReactTimebombProps['placeholder'];\n    minDate: ReactTimebombProps['minDate'];\n    maxDate: ReactTimebombProps['maxDate'];\n    allowValidation?: boolean;\n    onToggle(): void;\n    onChangeValueText(valueText: string): void;\n    onSubmit(onToggle: () => void): void;\n}\n\nconst Flex = styled.div`\n    display: flex;\n    align-items: center;\n`;\n\nconst Container = styled(Flex)`\n    justify-content: space-between;\n    align-items: center;\n    padding: 5px 10px;\n    border: 1px solid #ccc;\n    cursor: pointer;\n    width: 100%;\n    height: 100%;\n`;\n\nconst Input = styled.span`\n    padding: 2px 0 2px 0;\n    min-width: 1px;\n    cursor: text;\n\n    &:focus {\n        outline: none;\n    }\n\n    &:last-of-type {\n        padding: 2px 10px 2px 0;\n    }\n\n    &:not(:last-of-type):after {\n        content: attr(data-separator);\n        width: 4px;\n        display: inline-block;\n    }\n\n    &:empty:before {\n        content: attr(data-placeholder);\n        color: #aaa;\n    }\n\n    &:empty:not(:last-of-type):after {\n        color: #aaa;\n    }\n`;\n\nconst Button = styled.button`\n    font-size: 13px;\n    color: #ccc;\n    cursor: pointer;\n    border: none;\n    line-height: 1;\n\n    &:hover {\n        color: #333;\n    }\n\n    &:focus {\n        outline: none;\n    }\n`;\n\nconst ClearButton = styled(Button)`\n    font-size: 18px;\n`;\n\nconst Placeholder = styled.span`\n    color: #aaa;\n    user-select: none;\n`;\n\nconst Icon = styled.span`\n    margin-right: 5px;\n    user-select: none;\n\n    &:after {\n        content: '📅';\n    }\n`;\n\nconst WHITELIST_KEYS = [keys.BACKSPACE, keys.DELETE, keys.TAB];\n\nexport class Value extends React.PureComponent<ValueProps> {\n    private searchInputs: HTMLSpanElement[] = [];\n\n    private get formatGroups(): string[] {\n        return this.props.format.split('').reduce(\n            (memo, char) => {\n                const prevChar = memo[memo.length - 1];\n\n                if (prevChar && char === prevChar.substr(0, 1)) {\n                    memo[memo.length - 1] += char;\n                } else {\n                    memo = [...memo, char];\n                }\n\n                return memo;\n            },\n            [] as string[]\n        );\n    }\n\n    private get focused(): HTMLElement | null {\n        return document.querySelector(':focus');\n    }\n\n    constructor(props: ValueProps) {\n        super(props);\n\n        this.onSearchRef = this.onSearchRef.bind(this);\n        this.onKeyDown = this.onKeyDown.bind(this);\n        this.onKeyUp = this.onKeyUp.bind(this);\n        this.onFocus = this.onFocus.bind(this);\n        this.onChange = this.onChange.bind(this);\n        this.onClear = this.onClear.bind(this);\n        this.onToggle = this.onToggle.bind(this);\n    }\n\n    public componentDidUpdate(prevProps: ValueProps): void {\n        const { open, value, format } = this.props;\n        const hasFocus = this.searchInputs.some(inp => inp === this.focused);\n\n        if (!hasFocus) {\n            if (prevProps.value !== value && value) {\n                const parts = splitDate(value, format);\n                const input = this.searchInputs[0];\n\n                this.searchInputs.forEach(\n                    (input, i) => (input.innerText = parts[i])\n                );\n\n                if (input) {\n                    input.focus();\n                }\n            }\n\n            if ((open && !prevProps.open) || value !== prevProps.value) {\n                const input = this.searchInputs[0];\n\n                if (input) {\n                    if (input.innerText === '') {\n                        input.focus();\n                    } else {\n                        this.selectText(input);\n                    }\n                }\n            }\n        }\n\n        if (!open && value) {\n            const parts = splitDate(value, format);\n\n            this.searchInputs.forEach(\n                (input, i) => (input.innerText = parts[i])\n            );\n        }\n    }\n\n    public render(): React.ReactNode {\n        const { placeholder, value, open } = this.props;\n        const showPlaceholder = placeholder && !open;\n\n        return (\n            <Container\n                data-role=\"value\"\n                className=\"react-slct-value react-timebomb-value\"\n                onClick={this.onToggle}\n            >\n                <Flex>\n                    <Icon className=\"react-timebomb-icon\" />\n                    <Flex>\n                        {this.renderValue()}\n                        {showPlaceholder && (\n                            <Placeholder className=\"react-timebomb-placeholder\">\n                                {placeholder}\n                            </Placeholder>\n                        )}\n                    </Flex>\n                </Flex>\n                <Flex>\n                    {value && (\n                        <ClearButton\n                            className=\"react-timebomb-clearer\"\n                            tabIndex={-1}\n                            onClick={this.onClear}\n                        >\n                            ×\n                        </ClearButton>\n                    )}\n                    <Button tabIndex={-1} className=\"react-timebomb-arrow\">\n                        {open ? '▲' : '▼'}\n                    </Button>\n                </Flex>\n            </Container>\n        );\n    }\n\n    private renderValue(): React.ReactNode {\n        const { open, value } = this.props;\n\n        if (!open && !value) {\n            return null;\n        }\n\n        const { formatGroups } = this;\n\n        return (\n            <Flex>\n                {formatGroups.map((group, i) => {\n                    if (group === '.' || group === ':' || group === ' ') {\n                        return null;\n                    } else {\n                        const separator = formatGroups[i + 1];\n\n                        return (\n                            <Input\n                                contentEditable\n                                data-placeholder={group}\n                                data-separator={separator}\n                                key={group}\n                                data-group={group}\n                                ref={this.onSearchRef as any}\n                                onKeyDown={this.onKeyDown}\n                                onKeyUp={this.onKeyUp}\n                                onFocus={this.onFocus}\n                                onClick={this.onFocus}\n                                onChange={this.onChange}\n                            />\n                        );\n                    }\n                })}\n            </Flex>\n        );\n    }\n\n    private selectText(el: HTMLElement | undefined) {\n        if (el) {\n            const range = document.createRange();\n            const sel = getSelection();\n\n            range.selectNodeContents(el);\n\n            sel.removeAllRanges();\n            sel.addRange(range);\n        }\n    }\n\n    private onSearchRef(el?: HTMLSpanElement): void {\n        if (el) {\n            this.searchInputs.push(el);\n        } else {\n            this.searchInputs = [];\n        }\n    }\n\n    private onKeyDown(e: React.KeyboardEvent<HTMLSpanElement>): void {\n        const {\n            onChangeValueText,\n            format,\n            value,\n            allowValidation\n        } = this.props;\n        const input = e.currentTarget;\n        const { innerText, nextSibling, previousSibling } = input;\n        const sel = getSelection();\n        const hasSelection = Boolean(sel.focusOffset - sel.baseOffset);\n        let numericValue = parseInt(innerText, 10);\n\n        switch (e.keyCode) {\n            case keys.ENTER:\n            case keys.ESC:\n                e.preventDefault();\n                return;\n            case keys.ARROW_RIGHT:\n                e.preventDefault();\n\n                if (nextSibling instanceof HTMLSpanElement) {\n                    nextSibling.focus();\n                } else {\n                    this.selectText(input);\n                }\n                return;\n            case keys.ARROW_LEFT:\n                e.preventDefault();\n\n                if (previousSibling instanceof HTMLSpanElement) {\n                    previousSibling.focus();\n                } else {\n                    this.selectText(input);\n                }\n                return;\n            case keys.ARROW_UP:\n            case keys.ARROW_DOWN:\n                e.preventDefault();\n\n                const isArrowUp = e.keyCode === keys.ARROW_UP;\n\n                if (isNaN(numericValue)) {\n                    numericValue = 0;\n                }\n\n                if (isFinite(numericValue)) {\n                    const formatGroup = getAttribute(input, 'data-group');\n                    const formatType = getFormatType(formatGroup);\n\n                    if (!allowValidation) {\n                        const nextValue = numericValue + (isArrowUp ? 1 : -1);\n                        const valid = validateFormatGroup(\n                            nextValue,\n                            formatGroup\n                        );\n\n                        if (valid) {\n                            input.innerText =\n                                typeof valid === 'string'\n                                    ? valid\n                                    : formatNumber(nextValue);\n                        }\n                    } else {\n                        if (value && formatType) {\n                            const direction = isArrowUp ? 'add' : 'subtract';\n\n                            const newDate = manipulateDate(\n                                value,\n                                formatType,\n                                direction\n                            );\n                            const disabled = isDisabled(newDate, this.props);\n\n                            if (!disabled) {\n                                const dateParts = splitDate(newDate, format);\n\n                                this.searchInputs.map(\n                                    (inp, i) => (inp.innerText = dateParts[i])\n                                );\n                            }\n                        }\n                    }\n\n                    this.selectText(input);\n                    onChangeValueText(joinDates(this.searchInputs, format));\n                }\n                return;\n        }\n\n        const dataValue = getAttribute(input, 'data-value');\n        const dataGroup = getAttribute(input, 'data-group')!;\n        const char = stringFromCharCode(e.keyCode);\n        const groupValue = dataValue && !hasSelection ? dataValue + char : char;\n\n        if (WHITELIST_KEYS.includes(e.keyCode) || e.metaKey || e.ctrlKey) {\n            return;\n        }\n\n        const valid = validateFormatGroup(groupValue, dataGroup);\n\n        if (!valid) {\n            e.preventDefault();\n        } else if (typeof valid === 'string') {\n            e.preventDefault();\n\n            input.innerText = valid;\n        }\n\n        if (hasSelection) {\n            return;\n        }\n\n        // validate group\n        if (innerText.length >= dataGroup.length) {\n            e.preventDefault();\n        }\n    }\n\n    private onKeyUp(e: React.KeyboardEvent<HTMLSpanElement>): void {\n        const { onChangeValueText, format, allowValidation } = this.props;\n        const input = e.currentTarget;\n        const { innerText, nextSibling } = input;\n\n        if (e.keyCode === keys.ENTER || e.keyCode === keys.ESC) {\n            if (this.focused) {\n                this.focused.blur();\n            }\n            this.props.onSubmit(this.props.onToggle);\n\n            return;\n        }\n\n        const forbiddenKeys = [\n            keys.SHIFT,\n            keys.ARROW_LEFT,\n            keys.ARROW_RIGHT,\n            keys.ARROW_UP,\n            keys.ARROW_DOWN,\n            keys.TAB\n        ];\n\n        // focus next\n        if (\n            innerText.length >= getAttribute(input, 'data-group').length &&\n            !forbiddenKeys.includes(e.keyCode)\n        ) {\n            if (allowValidation || !nextSibling) {\n                this.selectText(input);\n            } else if (nextSibling instanceof HTMLSpanElement) {\n                this.selectText(nextSibling);\n            }\n\n            onChangeValueText(joinDates(this.searchInputs, format));\n        }\n\n        input.setAttribute('data-value', innerText);\n    }\n\n    private onFocus(e: React.SyntheticEvent<HTMLSpanElement>): void {\n        this.selectText(e.currentTarget);\n    }\n\n    private onChange(e: React.KeyboardEvent<HTMLSpanElement>): void {\n        const { format, onChangeValueText } = this.props;\n        const input = e.currentTarget;\n        const { innerText, nextSibling } = input;\n\n        onChangeValueText(joinDates(this.searchInputs, format));\n\n        if (innerText.length >= getAttribute(input, 'data-group').length) {\n            if (nextSibling instanceof HTMLSpanElement) {\n                nextSibling.focus();\n            }\n        }\n    }\n\n    private onClear(e: React.SyntheticEvent<HTMLButtonElement>): void {\n        e.stopPropagation();\n\n        this.props.onChangeValueText('');\n    }\n\n    private onToggle(e: React.SyntheticEvent<HTMLSpanElement>): void {\n        const { open, onToggle } = this.props;\n\n        if (\n            this.searchInputs.some(inp => inp === e.target) === false ||\n            !open\n        ) {\n            onToggle();\n        }\n    }\n}\n","export interface ReactTimebombProps {\n    className?: string;\n    value?: Date;\n    format?: string;\n    placeholder?: string;\n    menuWidth?: number;\n    minDate?: Date;\n    maxDate?: Date;\n    selectWeek?: boolean;\n    showCalendarWeek?: boolean;\n    showConfirm?: boolean;\n    onChange(date?: Date): void;\n    onError?(error: ReactTimebombError, value: string): void;\n}\n\nexport interface ReactTimebombState {\n    valueText?: string;\n    allowValidation?: boolean;\n    date: Date;\n    mode: 'year' | 'months' | 'month';\n    showTime?: boolean;\n}\n\nexport type ReactTimebombError = 'outOfRange' | 'invalidDate';\n"]}